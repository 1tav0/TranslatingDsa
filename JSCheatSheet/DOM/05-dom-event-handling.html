<!DOCTYPE html>
<html lang="en" dir="ltr" data-bs-theme="dark">
  <head>
    <meta charset="utf-8">
    <title>Introduction to the DOM</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style media="screen">
      body{
        font-size: 1.5rem;
        margin: 15px;
      }

      .current-topic{
        text-decoration: underline;
        font-weight: bold;
      }

      .dark{
        background-color: black;
        color: white;
      }
    </style>
    <script>

      window.addEventListener('load', function(){
        let topics = [
        'Intro to DOM',
        'Getting Elements',
        'Querying the DOM',
        'Creating Elements',
        'Removing Elements',
        'Modifying Element Classes',
        'Working with Attribute',
        'DOM Event Basics',
        'Common DOM Events'
      ];

      let currentTopicIndex = 6;

      let h1Element = document.getElementById('intro-text');
      let olElement = document.querySelector('ol');
      
      let listTheme = olElement.getAttribute('data-theme') || 'multi';

      h1Element.setAttribute('title', 'Manipulating The DOM(set in javascript by working with title attribute)')
      
      topics.forEach(function(text, index){
        let li = document.createElement('li');
        li.innerHTML = `<b>${text}</b>`

        li.setAttribute('data-index', index);

        if(listTheme.toLowerCase() === 'multi'){
          if(index<currentTopicIndex){
            li.classList.add('text-info');
          }else if(index > currentTopicIndex){
            li.classList.add('text-danger');
          }
        }

        olElement.appendChild(li);
      })

      h1Element.insertAdjacentElement('afterend', olElement);

      let currentTopicElement = document.querySelector(`li[data-index="${currentTopicIndex}"]`);
      currentTopicElement.classList.add('text-warning', 'current-topic');
      })

      // window.addEventListener('load', function(){
      //   console.log("hello from the event listener")
      // })

    </script>
  </head>
  <body class="">
    <h1 id="intro-text">Manipulating the DOM</h1>
    <ol data-theme="multi"></ol>
    <button id="pageThemeButton">Toggle Dark Mode</button>
    <script>
      // get the button and add a click event to it to toggle the dark mode
      document.getElementById('pageThemeButton').addEventListener('click', function(){
        let attName = 'data-bs-theme';
        let attValue = document.documentElement.getAttribute(attName) || '';

        if(attValue === 'dark'){
          document.documentElement.removeAttribute(attName);
        }else{
          document.documentElement.setAttribute(attName, 'dark')
        }
      })
    </script>
  </body>
</html>
